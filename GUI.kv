#:kivy 1.11.1

WindowManager:
    startWindow: start
    StartUpWindow:
        id: start
    PostWindow:
    AnalyticWindow:

<StartUpWindow>:
    name: "startup"
    layout: layout
    username: username
    password: password
    userLabel: userLabel
    passLabel: passLabel
    loginButton: login

    FloatLayout:
        id: layout
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            source: "reddit.png"
            pos_hint: {"x": 0.40, "y": 0.7}
            size_hint: 0.2, 0.2
            allow_stretch: False
        Label:
            id: userLabel
            size_hint: 0.25, 0.05
            color: 0,0,0,1
            pos_hint: {"x": 0.25, "y": 0.5}
            text: "Username: "
        TextInput:
            id: username
            pos_hint: {"x": 0.50, "y": 0.5}
            size_hint: 0.2, 0.05
            multiline: False
        Label:
            id: passLabel
            size_hint: 0.25, 0.05
            color: 0,0,0,1
            pos_hint: {"x": 0.25, "y": 0.4}
            text: "Password: "
        TextInput:
            id: password
            pos_hint: {"x": 0.50, "y": 0.4}
            size_hint: 0.2, 0.05
            multiline: False
        Button:
            background_normal: ''
            background_color: 1, .25, 0, 1
            #background_color: 1, .345, 0, 1 for when clicked still haven't figured that out yet
            id: login
            text: "Login"
            pos_hint: {"x": 0.40, "y": 0.2}
            size_hint: 0.2,0.1
            on_release:
                root.manager.transition.direction = "left" 
                root.loginSuccess() if root.login(username.text,password.text) else print("FAILED")
                
                root.resetTextFields() 
        

<PostWindow>:
    name: "post"
    StackLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        minimum_width: 10
        orientation: 'lr-tb'
        padding: 1
        Button:
            text: "Back"
            color: 0,0,0,1
            size_hint: [.2,.1]
            on_release: 
                app.root.current = "startup"
                root.manager.transition.direction = "right"
                app.root.startWindow.resetLoginWidgets()
        Label:
            size_hint: [.2,.1]
            color: 0,0,0,1
            text: "Subreddit Name"
        TextInput:
            size_hint: [.2,.1]
            text: "Subreddit Name"
            muliline: False
        Button:
            text: "Change"
            size_hint: [.2,.1]
            on_release:

        
        

<AnalyticWindow>:
    name: "analyse"
